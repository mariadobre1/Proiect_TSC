# OpenBook


## Prezentare generala

Proiectul a fost realizat în cadrul disciplinei Testarea Sistemelor de Calcul și are ca scop crearea unui model 3D detaliat pentru o tabletă E-Book Reader. Am realizat proiectarea atât la nivel de circuit, cât și la nivel de design al produsului, utilizând programul Fusion360 de la Autodesk.

## Block Diagram
<img width="1000" alt="DiagramaBloc" src="C:https://github.com/user-attachments/assets/d30d4530-1e53-4faf-b87a-a027ca0d5462.jpg" />

## Bill of Materials
| Componenta | Link | Datasheet |
|-----------|--------------|-----------|
| BUTTON | [Model](https://industry.panasonic.com/global/en/products/control/switch/light-touch/number/evqpuj02k) | [Datasheet](https://www.lcsc.com/datasheet/lcsc_datasheet_2201121800_PANASONIC-EVQPUJ02K_C2936858.pdf) |
| CAPACITOR | [Model](https://componentsearchengine.com/part-view/R0402%201%25%20100%20K%20(RC0402FR-07100KL)/YAGEO) | [Datasheet](//efaidnbmnnnibpcajpcglclefindmkaj/https://www.resistor.com/assets/pdf/0402tstd.pdf) |
| CPH3225A | [Model](https://www.snapeda.com/parts/CPH3225A/Seiko+Instruments/view-part/?ref=eda) | [Datasheet](https://octopart.com/datasheet/cph3225a-seiko-25340571) |
| EVQPUJ02K | [Model](https://industry.panasonic.com/global/en/products/control/switch/light-touch/number/evqpuj02k) | [Datasheet](https://www.lcsc.com/datasheet/lcsc_datasheet_2201121800_PANASONIC-EVQPUJ02K_C2936858.pdf) |
| KP-1608SURCK | [Model](https://www.snapeda.com/parts/KP-1608SURCK/Kingbright/view-part/?ref=search&t=LED%200603) | [Datasheet](//efaidnbmnnnibpcajpcglclefindmkaj/https://media.elv.com/file/107153_led_surck1608_data.pdf) |
| USBLC6-2SC6Y | [Model](https://www.snapeda.com/parts/USBLC6-2SC6Y/STMicroelectronics/view-part/?ref=eda) | [Datasheet](https://www.digikey.com/en/htmldatasheets/production/1375342/0/0/1/usblc6-2sc6y) |
| SD0805S020S1R0 | [Model](https://ro.mouser.com/ProductDetail/KYOCERA-AVX/SD0805S020S1R0?qs=jCA%252BPfw4LHbpkAoSnwrdjw%3D%3D) | [Datasheet](https://www.alldatasheet.com/view.jsp?Searchword=SD0805S&sField=2) |
| PGB1010603MR | [Model](https://www.snapeda.com/parts/PGB1010603MR/Littelfuse/view-part/?ref=eda) | [Datasheet](https://www.alldatasheet.com/view.jsp?Searchword=Pgb1010603mr&gad_source=1&gbraid=0AAAAADcdDU8aYfZtfJfdZ9I5j6RwZ_cbA&gclid=Cj0KCQjwqcO_BhDaARIsACz62vOPBOBe0eOh5gDUFkkKl4JBcbmoFZYtJ8BOnbaWqr_BuUCcVWvbutAaAmGkEALw_wcB) |
| BD5229G-TR  | [Model](https://componentsearchengine.com/part-view/BD5229G-TR/ROHM%20Semiconductor) | [Datasheet](https://www.lcsc.com/datasheet/lcsc_datasheet_2201131330_ROHM-Semicon-BD5229G-TR_C962636.pdf) |
| XC6220A331MR-G | [Model](https://componentsearchengine.com/part-view/XC6220A331MR-G/Torex) | [Datasheet](https://www.alldatasheet.com/view.jsp?Searchword=Xc6220&gad_source=1&gbraid=0AAAAADcdDU8aYfZtfJfdZ9I5j6RwZ_cbA&gclid=Cj0KCQjwqcO_BhDaARIsACz62vPS06NB6tLgniZzfaVpKNu1m811BNk6AEPfg4DbP6f5S8QWA_pW_UQaAv-0EALw_wcB) |
| XC6220A331MR-G | [Model](https://componentsearchengine.com/part-view/XC6220A331MR-G/Torex) | [Datasheet](https://www.alldatasheet.com/view.jsp?Searchword=Xc6220&gad_source=1&gbraid=0AAAAADcdDU8aYfZtfJfdZ9I5j6RwZ_cbA&gclid=Cj0KCQjwqcO_BhDaARIsACz62vMO5_aHsn35cIZBK6oCFuB_WOxz_zKu4yOHJ69-EnaUd5Jfas_Avm8aAuk5EALw_wcB) |
| USB4110-GF-A  | [Model](https://componentsearchengine.com/part-view/USB4110-GF-A/GCT%20(GLOBAL%20CONNECTOR%20TECHNOLOGY)) | [Datasheet](//efaidnbmnnnibpcajpcglclefindmkaj/https://gct.co/files/drawings/usb4110.pdf) |
| Adafruit | [Model](https://eu.mouser.com/ProductDetail/Adafruit/4208?qs=PzGy0jfpSMtbScLbr0L5dw%3D%3D) | [Datasheet](https://www.arrow.com/en/manufacturers/adafruit-industries/datasheets) |
| Bobina | [Model](https://store.comet.srl.ro/Catalogue/Product/43497/) | [Datasheet](https://www.scribd.com/document/814581278/Datasheet-Bobina) |
| PFMF | [Model](https://www.mouser.co.uk/ProductDetail/EPCOS-TDK/B72520T0350K062?qs=dEfas%2FXlABIszF52uu7vrg%3D%3D) | [Datasheet](https://ro.mouser.com/c/ds/circuit-protection/thermistors/resettable-fuses-pptc/?m=Schurter&series=PFMF) |
| DMG2305UX-7 | [Model](https://componentsearchengine.com/part-view/DMG2305UX-7/Diodes%20Incorporated) | [Datasheet](//efaidnbmnnnibpcajpcglclefindmkaj/https://www.mouser.com/datasheet/2/115/DMG2305UX-266242.pdf?srsltid=AfmBOop22k34YTJJra1xubiU6LPiN4M4JlcWbRoSNdxSGFak8uWgXPpK) |
| Si1308EDL-T1-GE3 | [Model](https://componentsearchengine.com/part-view/SI1308EDL-T1-GE3/Vishay) | [Datasheet](https://www.alldatasheet.com/view.jsp?Searchword=Si1308edl&gad_source=1&gbraid=0AAAAADcdDU-px713ONYSnQ2O-gcwqYcFq&gclid=Cj0KCQjwqcO_BhDaARIsACz62vN_Nz3MJOc6J_03gnVBm7aSqC8v9wyP0VD-iRKP-gFrYgdhLi99I14aAlVJEALw_wcB) |
| R0402 | [Model](https://componentsearchengine.com/part-view/R0402%201%25%20100%20K%20(RC0402FR-07100KL)/YAGEO) | [Datasheet](//efaidnbmnnnibpcajpcglclefindmkaj/https://www.resistor.com/assets/pdf/0402tstd.pdf) |
| BME680 | [Model](https://www.snapeda.com/parts/BME680/Bosch/view-part/?welcome=home) | [Datasheet](//efaidnbmnnnibpcajpcglclefindmkaj/https://www.bosch-sensortec.com/media/boschsensortec/downloads/datasheets/bst-bme680-ds001.pdf) |
| SMD Solder | [Model](https://grabcad.com/library/solder-jumpers-1) | [Datasheet]() |
| W25Q512JVEIQ | [Model](https://www.snapeda.com/parts/ESP32-C6-WROOM-1-N8/Espressif+Systems/view-part/?ref=eda) | [Datasheet](//efaidnbmnnnibpcajpcglclefindmkaj/https://www.mouser.com/datasheet/2/949/W25Q512JV_SPI_RevB_06252019_KMS-2487502.pdf?srsltid=AfmBOoquExqDVgxEELF9CzuOGxHos0CD1nQDROHD6Eebdm2foNzqozqU) |
| ESP32-C6-WROOM-1-N8 | [Model](https://www.snapeda.com/parts/ESP32-C6-WROOM-1-N8/Espressif+Systems/view-part/?ref=eda) | [Datasheet](//efaidnbmnnnibpcajpcglclefindmkaj/https://www.mouser.com/catalog/specsheets/Espressif_ESP32_C6_WROOM_1%20_Datasheet_V0.1_PRELIMINARY_en.pdf?srsltid=AfmBOooHQKNitqODRaaPjoZInfWKTacDER1t5uRK6sKqT13TrzvVo_B7) |
| DS3231SN# | [Model](https://www.snapeda.com/parts/DS3231SN%23/Analog+Devices/view-part/?ref=eda) | [Datasheet](https://www.alldatasheet.com/view.jsp?Searchword=Ds3231sn%20datasheet&gad_source=1&gbraid=0AAAAADcdDU-Gy9URfMxGmqiPg7ci5L3wR&gclid=Cj0KCQjwqcO_BhDaARIsACz62vMkK3ETSnW2w7mo0Fa-wgWJGn89AxWCyIND6k5X8MmoPl6hv6VWwT8aAiS-EALw_wcB) |
| MAX17048G+T10 | [Model](https://www.snapeda.com/parts/MAX17048G+T10/Analog+Devices/view-part/?ref=eda) | [Datasheet](https://www.alldatasheet.com/view.jsp?Searchword=Max17048&gad_source=1&gbraid=0AAAAADcdDU8aYfZtfJfdZ9I5j6RwZ_cbA&gclid=Cj0KCQjwqcO_BhDaARIsACz62vNa9xrVfzjCjADRwXD0RBbo4Nret3ywwteDGLJKZui8ZL8KdVlTE7caAvQxEALw_wcB) |
| MCP73831T-5ACI/OT | [Model](https://www.mouser.co.uk/ProductDetail/Microchip-Technology/MCP73831T-5ACI-OT?qs=hH%252BOa0VZEiAcgAcEkuamXg%3D%3D) | [Datasheet](//efaidnbmnnnibpcajpcglclefindmkaj/https://ww1.microchip.com/downloads/en/DeviceDoc/MCP73831-Family-Data-Sheet-DS20001984H.pdf) |
## Functionalitate hardware
Componentele principale ale circuitului sunt:

 USB C Connector + ESD Protection
  
 > Se conectează prin portul USB si este folositor pentru alimentarea E-book-ului.
 
 SD Card
 
 > Cardul Secure Digital este utilizat pentru stocarea cărților în format electronic. Funcționează la 3.3V și se conectează la microcontroller prin intermediul unei interfețe SPI.
 
 E-Paper Display, impreuna cu modulele aferente - E-Paper Drive Circuit, E-Paper Display Header, EPD Power
  
> Header-ul EPD se conectează la microcontroller prin SPI și face legătura între celelalte componente. Modulul EPD Power furnizează mai multe tensiuni, iar Circuitul de Alimentare E-Paper generează semnalele necesare pentru funcționarea display-ului E-Paper.
 
 Senzorul de Mediu BME688
  
 > Acesta este un senzor capabil să măsoare temperatura, umiditatea, presiunea atmosferică și calitatea aerului. Funcționează la 3.3V și se conectează la microcontroller prin interfața I2C.

 Modul RTC DS3231SN
  
 > Acest modul Real-Time Clock are rolul de a păstra data și ora corectă chiar și atunci când microcontroller-ul este oprit. Funcționează pe baterie și include un cristal de 32KHz. Se conectează la ESP32-C6 prin I2C, utilizând pinii SCL și SDA.

 Flash NOR Extern 64MB
  
> Aceasta extinde memoria microcontroller-ului, permițând stocarea unor date suplimentare și chiar stocare temporară. Folosește interfața SPI.

 Regulator de Tensiune LDO
  
> este un stabilizator de tensiune liniar, care asigura tensiunea de iesire constanta la valoarea de 3.3V pentru microcontroller; are un consum energetic foarte mic, ceea ce il face ideal pentru dispozitive alimentate pe baza de baterie, precum cel de fata

 Supraveghetor de Tensiune
  
> folosit pentru monitorizeaza nivelului tensiunii, si pentru a asigura ca sistemul nu poate porni atunci cand avem o tensiune instabila sau mult prea mica

 Qwiic/Stemma QT
  
> Acesta simplifică conectarea senzorilor și perifericelor la microcontroller, permițând conectarea mai multor dispozitive într-un lanț, fără a fi necesare cabluri separate pentru fiecare semnal. Funcționează pe baza protocolului I2C


## Microcontroller - ESP32-C6
Întregul circuit a fost conceput în jurul microcontrollerului ESP32-C6-WROOM, un modul preasamblat.
-- Placa ESP32-WROOM-32 dispune de multiple interfețe pentru conectarea la diferite componente și senzori, cum ar fi pini de I/O, SPI, I2C și UART. Aceste interfețe facilitează integrarea componentelor externe și lărgesc gama de aplicații posibile. De asemenea, placa suportă WiFi 6 pe 2.4 GHz, are Bluetooth 5 integrat și include o antenă dedicată.

 - **Restul pinilor**
 - **FLASH_CS** este un pin Chip Select pentru selectarea chipului flash extern (pentru comunicarea SPI cu External NOR Flash)
 - **IO/BOOT** folosit pentru a intra in boot mode – legatura cu butonul de _boot_
 - **RTC_PWM** pentru semnale Pulse Width Modulation trimise catre Real Time Clock
 - **RTC_RST** pentru resetarea ceasului
- **INT_RTC** destinat semnalelor de intrerupere de la modulul RTC, de exemplu in cazul iesirii din moduri de functionare (sleep), pentru executarea unor sarcini periodice, cum ar fi un refresh al display-ului etc.

 ESP32-C6 se leaga de cele mai importante module ale circuitului prin intermediul pinilor sai:
 - **Alimentare si reset**
 **3V3** aigura alimentrea modulului, **GND** legatura la masa, **EN** trebuie sa fie pe pozitia _HIGH_ pentru ca modulul sa functioneze (EN va fi controlat de catre butonul RESET)
 - **USB C Connector**
 deoarece ESP32-C6 are USB nativ, conexiunea se realizeaza direct prin liniile de date **USB_D+** si **USB_D-**, la pinii **GPIO13** si **GPIO14** ai modulului; nu mai este deci nevoie de un convertor serial extern
 - **SD Card**
 pentru a comunica cu dispozitive rapide precum SD Card se foloseste interfata SPI(Serial Peripheral Interface), folosind pinii **GPIO27(MISO)** - pentru transfer de la card la ESP, **GPIO7(MOSI)** - pentru transfer invers, **GPIO6(SCK)** -semnalul de ceas care asigura sincronizarea, respectiv **GPIO4(SS_SD)** - chip select
 - **E-Paper Display**
 pentru conexiunea si controlul ecranului dispozitivului se folosesc pinii **GPIO11(EPD_CS)** - Chip Select pentru display-ul EPD, **GPIO5(EPD_DC)** - pentru controlul display-ului, **GPIO21(EPD_RST)** - pentru resetarea display-ului, respectiv **GPIO26(EPD_BUSY)**
 - **Environmental Sensor BME688**
 avand in vedere ca se face comunicatia cu senzorul prin intermediul protocolului I2C, pentru stabilirea legaturii se vor folosi pinii **GPIO19(SDA)**, **GPIO20(SCL)** si **GPIO17(I2C_PW)** de pe microcontroller
 - **UART(Serial Communication)**
 ESP32-C6 are si interfete seriale, utile pentru debugging sau conexiuni cu alte dispozitive; pinii aferenti comunicarii UART sunt **TXD0** -pentru transmisia datelor respectiv **RXD0** - pentru receptie de date


## Erori
Urmatoarele erori au fost observate la finalizarea PCB-ului:
<img width="600" alt="errors" src="https://github.com/user-attachments/assets/![d30d4530-1e53-4faf-b87a-a027ca0d5462](https://github.com/user-attachments/assets/9a97c48f-853a-4105-94e4-090038b2e7b3)
" />
Nu sunt erori care afecteaza functionalitatea(se refera la dimensiunea portului USB sau alte mici diferente)
